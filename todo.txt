Fix the EOF-related parsing/lexing problem
I have some kind of compilation with a lot of cheats. Right now
-add declarations to the parser
-add looping to the parser
-need to make the channel value type correct and like.. process it correctly
-organise the code better somehow
-add randomness(?)